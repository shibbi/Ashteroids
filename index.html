<!DOCTYPE html>
<html>
  <head>
    <script src="lib/vendor/jquery-1.11.2.min.js"></script>
    <link rel="stylesheet" type="text/css" href="lib/asteroids.css">
    <title>Asteroids</title>
  </head>
  <body>
    <div id="game-wrapper">
      <div id='game-menu' class="active text-center">
        <div id="game-text">
          <h1>Ashteroids</h1>
          <h3>
            Instructions
          </h3>
          <p>
            Control Ash with the arrow keys and fire Master Balls at Pikachu with the spacebar.<br>
            There can only be a maximum of five Master Balls in the game at any time.<br>
            Click "Start Game" to begin playing.
          </p>
          <button id="start-game">Start Game</button>
        </div>
      </div>
      <canvas id='game-canvas'>
      </canvas>
    </div>
    <script src='lib/keymaster.js'></script>
    <script src='lib/utils.js'></script>
    <script src='lib/movingObject.js'></script>
    <script src='lib/asteroids.js'></script>
    <script src='lib/bullet.js'></script>
    <script src='lib/ship.js'></script>
    <script src='lib/game.js'></script>
    <script src='lib/gameView.js'></script>
    <script type="text/javascript">
      var height = window.innerHeight;
      var width = window.innerWidth;

      $('#game-wrapper').attr('height', height);
      $('#game-wrapper').attr('width', width);
      $('#game-canvas').attr('height', height - 100);
      $('#game-canvas').attr('width', width - 100);
      // $('#game-text').css('height', (height - 240) + 'px');
      // $('#game-text').css('width', (width - 240) + 'px');

      $('#start-game').click(function () {
        $('#game-menu').removeClass('active');
        $('#game-canvas').addClass('active');
        var theme = new Audio('lib/sounds/theme.mp3');
        theme.addEventListener('ended', function() {
          this.currentTime = 0;
          this.play();
        }, false);
        theme.play();

        var gv = new Asteroids.GameView({ height: height - 100,
                                          width: width - 100 });
        gv.start();
      })
      
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-63569738-1', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
